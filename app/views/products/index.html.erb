<script type="text/javascript">
  var total = 0;
  function calculate(item){
    if(item.checked){
       total+= parseFloat(item.value);
    }else{
       total-= parseFloat(item.value);
    }
    document.getElementById('totalCost').innerHTML = "$"+total.toFixed(2);
  }
</script>


<p id="notice"><%= notice %></p>

<h1>Listing Products</h1>

Total Amount : <b><span id="totalCost"> </span></b>
<br><br>

<table border=1>
  <thead>
    <tr>
    <th></th>
      <th>Name</th>
      <th>Description</th>
      <th>Price</th>
    </tr>
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>
      <td><input type="checkbox" value="<%=product.price%>" onclick="calculate(this)" ></td>
        <td><%= product.name %></td>
        <td><%= product.description %></td>
        <td><%= product.price %></td>
      </tr>
    <% end %>
  </tbody>
</table>
